<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ç»„ä»¶-çˆ¶ç»„ä»¶æŠŠæ–¹æ³•ä¼ é€’ç»™å­ç»„ä»¶</title>
  <script src="../node_modules/vue/dist/vue.js"></script>
</head>

<body>
  <div id="app">
    <!-- çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ ä¼ é€’ æ–¹æ³•ï¼Œä½¿ç”¨çš„æ˜¯äº‹ä»¶ç»‘å®šæœºåˆ¶
       ï¼Œ:v-on æˆ– @ å½“æˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ªäº‹ä»¶å±æ€§ä¹‹åï¼Œé‚£ä¹ˆå­ç»„ä»¶å°±èƒ½é€šè¿‡æŸäº›æ–¹æ³•ï¼Œæ¥è°ƒç”¨ä¼ é€’è¿›å»çš„è¿™ä¸ªæ–¹æ³•äº† -->
    <com2 @func='show'></com2>
  </div>
  <template id="tmpl">
    <div>
      <h1>è¿™æ˜¯ğŸ§’å­ç»„ä»¶</h1>
      <input type="button" value="å­ç»„ä»¶æŒ‰é’®-ç‚¹å‡»å®ƒè§¦å‘çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„funcæ–¹æ³•" @click="change">

    </div>
  </template>
  <script>
    // å®šä¹‰äº†ä¸€ä¸ªå­—é¢é‡ç±»å‹çš„ ç»„ä»¶æ¨¡ç‰ˆå¯¹è±¡
    const com2 = {
      data() {
        return {
          sonmsg: { name: 'PowerDai', age: 18 }
        }
      },
      template: "#tmpl",//æŒ‡å®šäº†ä¸€ä¸ªidğŸ†”ï¼Œè¡¨ç¤ºã€‚è¦åŠ è½½è¿™ä¸ªæŒ‡å®šidğŸ†”çš„template
      // å…ƒç´ ä¸­çš„å†…å®¹ï¼Œå½“ä½œç»„ä»¶çš„HTMLç»“æ„
      methods: {
        change() {
          //  å½“ç‚¹å‡»å­ç»„ä»¶æŒ‰é’®çš„æ—¶å€™ï¼Œå¦‚ä½•æ‹¿åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„ funcæ–¹æ³•ï¼Ÿï¼Ÿï¼Ÿå¹¶è°ƒç”¨
          // emit è§¦å‘ï¼Œè°ƒç”¨ï¼Œå‘å°„çš„æ„æ€
          this.$emit("func", this.sonmsg);
        }
      },
    }

    var vm = new Vue({
      el: '#app',
      data: {
        datamsgFromSon: null
      },
      methods: {
        show(data) {
          // console.log(`è°ƒç”¨äº†çˆ¶ç»„ä»¶èº«ä¸Šçš„showæ–¹æ³• ${data},${data2}`)
          // console.log(data);
          this.datamsgFromSon = data;
        }
      },
      components: {
        com2,
      }
    });
  </script>
</body>

</html>